function bmg(a,b){return new fo(function(c,d){np(wk(xk(vk(op(uk(a.C.Se("/answers/tablemetadata"),"did",b),"POST"),2),function(e){e=(new ok).Hc(tM.va(),e.Ee());c(e)}),function(){var e=new tM;d(e)})).Me()})}function cmg(a,b,c){var d=new ok;d.Hg=!0;var e=d.serialize(b);return new fo(function(f,h){Lm(c,function(){xM(a,"/dbx/validateCalculatedColumn",[],e,function(k){k=d.Hc(mM.va(),k.Ee());f(k)},function(){var k=new mM,l=new hg;F(k,1,l);l.Qb(3);Rvd(l);h(k)})})})}
function dmg(a,b,c){var d=new ok;d.Hg=!0;var e=d.serialize(b);return new fo(function(f,h){Lm(c,function(){xM(a,"/dbx/refreshObject",a.F?["esid",a.F]:[],e,function(k){d.Hg=!1;k=d.Hc(G9b.va(),k.Ee());f(k)},function(){var k=new G9b,l=new hg;l.Qb(3);Rvd(l);var n=new gM;F(n,1,l);Of(k,2,n);h(k)})})})}function emg(a,b){var c=new Set;b.forEach(function(d){a.O.add(d);c.add(d)});ibc(a,c,"dbobjectmodel-event-update")}function fmg(a){a.O&&a.O.Uc(a.Ka(),a.L?5:1,new Dl(0,a.L?50:0,12,a.L?0:50))}
function gmg(a,b,c,d,e,f,h,k){zO.call(this,a,b,c,d,e,k);this.F=new yuc(h,k);this.Ga(this.F,!0);this.H=f;this.C=null}u(gmg,zO);gmg.prototype.Ba=function(){var a=this.qa().Ba("DIV","waffle-dbsource-container");this.tb(a)};gmg.prototype.Ha=function(){zO.prototype.Ha.call(this);this.C=new PA(this.Ka(),this.qa());QA(this.C)};gmg.prototype.xd=function(){qf(this.C);zO.prototype.xd.call(this)};gmg.prototype.focus=function(){var a=this.F;a.C.isVisible()&&a.C.isEnabled()&&(a.C.Ka().focus(),a.C.nq(!0));this.H.Qb(2)};
function hmg(a){return a.D?Object.values(a.D).find(function(b){if(!(b instanceof HQ))return!1;b=b.getElement();return!!b&&!!b.querySelector(":hover")})||null:null}function img(a){a=hmg(a.J);if(!a)return null;a=a.Md().getId();return ritz_api.BigSheetsApi.getExternalDataIdForObject(a)}
function jmg(a){var b=a.L.C.C;if(aH(b))return ritz_api.BigSheetsApi.getExternalDataIdForDatasourceSheet(b.yb());(b=img(a))||(b=(b=qHc(a))?rHc(a,b):null);if(b)return b;a:{b=a.J.C;for(var c=b.length-1;0<=c;c--){var d=YQ(a.J,b[c]).Md();if(d instanceof bO&&null!=d.D&&(d=d.getId(),d=ritz_api.BigSheetsApi.getExternalDataIdForObject(d))){b=d;break a}}b=null}if(b)return b;b=hK(a.Qa());return rHc(a,b)}
function kmg(a,b){[a.J,a.V].forEach(function(c){return c.setPosition(b)});a.C.some(function(c){c.C.setPosition(b)})}function lmg(a,b){return{title:a,body:b}}function mmg(a){return lmg("\u041e\u0448\u0438\u0431\u043a\u0430",a)}
function nmg(a,b){var c=b.getErrorCode();b=E(b,3);switch(c){case 20:return mmg(uWe(3,b));case 6:return a=(new dA("{objectType,select, chart{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u044b \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}pivot_table{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0434\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}formula{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}record{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}datasource_preview{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}other{\u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}}")).format({objectType:a?DWe[a]||
"other":"other"}),lmg("\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f",vWe(a,b));case 8:return EWe.format(A(z(),"febpr")?5E4:3E4),EWe.format(A(z(),"femdrr")?5E4:1E4),c=(new dA("{objectType,select, chart{\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a ({MAX_ROWS}). \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}pivot_table{\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a \u0438/\u0438\u043b\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u043f\u0443\u0442\u0435\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438, \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438 \u0438\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043d\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u043b\u043e {DB_PIVOT_TABLE_MAX_ROWS}. \u0417\u0430\u0442\u0435\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}formula{\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a ({MAX_ROWS}). \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}record{\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a ({DB_RECORD_MAX_ROWS}). \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u0438\u0437\u0432\u043b\u0435\u0447\u044c \u0434\u0430\u043d\u043d\u044b\u0435.}datasource_preview{\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a ({MAX_ROWS}). \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0439 \u043b\u0438\u0441\u0442 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}other{\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a ({MAX_ROWS}). \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.}}")).format({objectType:a?
DWe[a]||"other":"other"}),lmg(1==a?"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u043a \u0438/\u0438\u043b\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432":"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u043a",vWe(c,b));case 18:return lmg("\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445",
U_("\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u0438\u043f\u0430 ARRAY \u0438\u043b\u0438 STRUCT. \u042d\u0442\u0438 \u0442\u0438\u043f\u044b \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f."));case 19:return mmg(yWe());case 22:return mmg(zWe());case 26:return mmg(U_("\u0422\u0438\u043f \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0435\u0439."));
case 30:return mmg(U_("\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0443 \u0441 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u043c \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043b\u0438\u0441\u0442\u043e\u0432 \u0438 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0439."));case 32:return lmg("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0441\u0442\u0440\u043e\u043a \u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432",
U_("\u0412 \u0432\u0430\u0448\u0435\u0439 \u0441\u0432\u043e\u0434\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b, \u043e\u0442\u043d\u043e\u0441\u044f\u0449\u0438\u0435\u0441\u044f \u043a \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u043c\u0443 \u043c\u0430\u0441\u0441\u0438\u0432\u0443. \u0422\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u043d\u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u0432\u0430\u043c\u0438 \u0447\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u043e\u043a \u0438\u043b\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432."))}return mmg(AWe(b))}
function omg(){var a='<div class="'+U("waffle-bigquerydbsourcesettingsdialog-project-section")+'"><h3 class="'+U("waffle-bigquerydbsourcesettingsdialog-project-header")+'">';a=a+'\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442</h3><div class="'+(U("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper")+'"></div></div>');return T(a)}
function pmg(){var a='<div class="'+U("waffle-bigquerydbsourcesettingsdialog-footer-wrapper")+'"><p class="'+U("waffle-bigquerydbsourcesettingsdialog-footer-message")+'">';return T(a+'\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 BigQuery \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f <a href="https://cloud.google.com/terms/" target="_blank">\u0423\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f Google Cloud Platform</a>.</p></div>')}
;function qmg(a,b){a0.call(this,"waffle-bigquerydbsourcesettingsdialog",b);this.setTitle(this.qa().Ba("SPAN",void 0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"));this.F=a;this.D=new wXe(void 0,this.qa());this.Ga(this.D)}u(qmg,a0);
qmg.prototype.Ba=function(){a0.prototype.Ba.call(this);vx(this.Hb(),omg);T_(this).appendChild(xx(pmg));this.D.render(this.gb("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"));(this.D.Pi||null).setAttribute("placeholder","\u041f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432");this.qa().wj(this.D.Ka(),!1)};
qmg.prototype.Ha=function(){a0.prototype.Ha.call(this);if(0==this.F.length){var a=this.qa();var b=new vB;var c="\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0438 Google Cloud Platform. "+(b.dd("a",{"class":"goog-inline-block",href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435\u2026"+
b.ad("a")));b=b.format(c);b=$n(a,b);Q(this.Ea("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"),!1);a.appendChild(this.Ea("waffle-bigquerydbsourcesettingsdialog-project-section"),a.Ba("DIV","waffle-bigquerydbsourcesettingsdialog-error-caption",b))}else a=rmg(this.F),yXe(this.D,a),DXe(this.D),a=this.D,b="\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u044b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432: "+
(puc.format(1E4)+". \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430."),a.C.setVisible(!0),a.C.C.setContent(a.qa().Ba("DIV",void 0,a.qa().Ba("DIV",{id:"waffle-dataconnector-tablepicker-filtered-menu-info-bubble-aria-content","class":"waffle-dataconnector-tablepicker-filtered-menu-info-bubble-content"},
Cn(me(b))))),zXe(this.D),this.getHandler().listen(this.D,"action",this.H)};function rmg(a){return Jc(a,function(b){return new Z_(b.getId(),b.getName())})}qmg.prototype.H=function(a){var b=this;a=a.target.Qa();var c=a instanceof Z_?a.ah():a.getValue();Hw(this.Ka(),"waffle-bigquerydbsourcesettingsdialog-transition-out");this.D.JY("translateX(-24px)").then(function(){return b.resolve(new jXe(b.F,c,c,"db-source-table"))})};function smg(){var a='<div class="waffle-calculated-columns-description">\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u043b\u0438\u0441\u0442\u0430 \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u042d\u0442\u043e \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437\u0430.<div class="waffle-calculated-columns-tooltip"></div></div><div class="waffle-calculated-columns-display-name-title" id="waffle-calculated-columns-display-name-title">\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430</div>'+
(S(QXe({jd:"waffle-calculated-columns-display-name-input",maxLength:50}))+'<div class="waffle-calculated-columns-display-name-error"></div><div class="waffle-calculated-columns-formula-editor"></div>');return T(a)};function tmg(){var a=T;var b=T('<svg class="waffle-calculated-columns-tooltip-help-icon" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" fill="#5F6368"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/></svg>');return a('<div class="waffle-calculated-columns-tooltip-container"><div class="waffle-calculated-columns-tooltip-help-button">'+
b+"</div></div>")};function umg(a,b){R.call(this,b);this.H=new qy(void 0,Qx(oy,"waffle-calculated-columns-tooltip-help-button"),this.qa());this.Ga(this.H);this.C=new dy(this.qa());this.xa(this.C);this.D=null;this.xa(this.D);this.F=null;this.O=a;this.L=my(hy(new gy,1))}u(umg,R);
umg.prototype.Ba=function(){this.tb(xx(tmg));this.H.Wa(this.Ea("waffle-calculated-columns-tooltip-help-button"));this.C.Jc("waffle-calculated-columns-tooltip-help-bubble");this.C.oq(!1);ey(this.C,!0);this.C.setPosition(1,2,0,-7);this.F=this.qa().Ba("A",{target:"_blank"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435\u2026");we(this.F,"https://connectedsheets.page.link/calccolhelp");var a="="+(ritz_api.RitzModelApi.getLocalizedFunctionName("RIGHT")+"(ID\u0437\u0430\u043a\u0430\u0437\u0430, 4)"),
b="="+(ritz_api.RitzModelApi.getLocalizedFunctionName("YEAR")+"(\u0434\u0430\u0442\u0430\u041d\u0430\u0447\u0430\u043b\u0430)");this.C.setContent(this.qa().Ba("DIV",void 0,this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-title",Cn(me("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u044b"))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-subtitle",
Cn(me("\u041c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b"))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-example",Cn(me("=(\u0446\u0435\u043d\u0430*\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e)/0.5"))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-subtitle",Cn(me("\u041c\u043e\u0436\u043d\u043e \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442"))),
this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-example",Cn(me(a))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-subtitle",Cn(me("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u0442\u044b"))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-example",Cn(me(b))),this.qa().Ba("DIV","waffle-calculated-columns-tooltip-help-bubble-link",this.F)));this.C.render();a=this.C.Ka();this.qa().wj(a,
!0);Aw(a,"hidden",!1);this.C.setVisible(!1)};
umg.prototype.Ha=function(){var a=this;R.prototype.Ha.call(this);var b=this.Ea("waffle-calculated-columns-tooltip-help-button");this.C.Mi(this.qa().Tt(b));Dw(b,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u044b");My(b,"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",void 0);Bye(b);this.getHandler().listen(this.H,"action",this.J).listen(this.C.getElement(),"keydown",
this.R).listen(this.C,"hide",function(){return Jw(a.Ka(),"waffle-calculated-columns-tooltip-help-bubble-visible")}).listen(this.F,"click",function(){a.O.C(36653,a.L)})};umg.prototype.R=function(a){27===a.keyCode&&(this.J(),this.Ea("waffle-calculated-columns-tooltip-help-button").focus())};
umg.prototype.J=function(){var a=!x7a(this.C.D);Lw(this.Ka(),"waffle-calculated-columns-tooltip-help-bubble-visible",a);this.C.setVisible(a);qf(this.D);a?(this.O.C(36652,this.L),this.D=new PA(this.C.Ka(),this.qa()),this.xa(this.D),QA(this.D),this.C.getElement().focus()):this.Ea("waffle-calculated-columns-tooltip-help-button").blur()};function vmg(a,b){this.D=b;this.C=new Map;wmg(this,a)}function xmg(a){return a.replace(/^[\t\r\n]+|[\t\r\n]+$/g,"").replace(/[\t\r\n]+/g," ")}function wmg(a,b){b=b.map(function(c){return AM(c)});a.C=new Map(b.map(function(c){return[EJ(c,a.D),c]}))}function ymg(a){var b=[];a.C.forEach(function(c,d){Mf(c,2)||b.push(d)});return b}function zmg(a){var b=[];a.C.forEach(function(c,d){b.push(d)});return b};function Amg(a){a=a.A9a;return T('<div class="waffle-calculated-columns-formula-editor-container"><textarea class="'+U("waffle-calculated-columns-formula-editor-input")+" "+U("jfk-textinput")+'" spellcheck="false" placeholder="'+U(a)+'"></textarea></div>')};function Bmg(a,b,c,d,e,f,h,k){R.call(this,k);this.H=a;this.Aa=b;this.Fa=c;this.ma=d;this.C=new B_("");this.xa(this.C);this.D=null;this.V=null==b?!1:!0;this.O=null;this.Ia=f;this.L=this.F=!1;this.Ca=e;this.J=h}u(Bmg,R);Bmg.prototype.Ba=function(){R.prototype.Ba.call(this);this.tb(xx(Amg,{A9a:"=\u0412\u043f\u0438\u0448\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u0443 \u0437\u0434\u0435\u0441\u044c"}))};
Bmg.prototype.Ha=function(){R.prototype.Ha.call(this);var a=this.C;a.Naa=290;a.resize();a=this.Ea("waffle-calculated-columns-formula-editor-input");this.C.Wa(a);Aw(a,"label","\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0444\u043e\u0440\u043c\u0443\u043b");this.D=new AA(a);null!=this.Aa&&this.C.setValue(ritz_api.BigSheetsApi.getCalculatedColumnFormulaString((new ok).serialize(this.Aa),this.H));this.C.Na(this.ma);this.ma&&this.getHandler().listen(this.D,"input",this.R)};
Bmg.prototype.xd=function(){R.prototype.xd.call(this);qf(this.D)};
Bmg.prototype.R=function(){if(this.F)this.L=!0,this.dispatchEvent(new Cmg("loading-state"));else{var a=this.Ca.getRitzCalculatedColumnFormulaValidationResult(this.H,Dmg(this),zmg(this.Fa));a=(new ok).Hc(o$b.va(),a);switch(a.getStatus()){case 4:this.J.C(36699);break;case 12:this.J.C(36701);break;case 7:var b=new Ege;var c=Mf(a,5)?E(a,5):"CUSTOM_OR_NON_ENGLISH_FUNCTION";b=M(b,1,c);c=new nj;b=Pi(c,27,b);b=my(ly(hy(new gy,1),b));this.J.C(36700,b)}1!=a.getStatus()?(a=E(a,4),Emg(this,!1,a)):(a=E(a,2),0==
Qf(a,1).length?Emg(this,!0,null):Fmg(this,a))}};
function Fmg(a,b){a.F=!0;a.dispatchEvent(new Cmg("loading-state"));var c=new l$b;F(c,2,a.H);F(c,1,b);cmg(wM.getInstance(),c,a.Ia).then(function(d){d=d.Kh();3==d.getState()?(d="\u041e\u0448\u0438\u0431\u043a\u0430 BigQuery. "+E(d,3),Emg(a,!1,d)):Emg(a,!0,null);Gmg(a)},function(){Emg(a,!1,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u0443.");Gmg(a)})}function Gmg(a){a.F=!1;a.L&&(a.L=!1,a.R())}
function Emg(a,b,c){a.V=b;a.O=c;a.dispatchEvent(new Cmg("validation-update"))}function Dmg(a){a=a.C.getValue();return ME(qga(a))?a:"="+a}function Hmg(a,b){Lw(a.C.getElement(),"waffle-calculated-columns-formula-editor-input-invalid",!b)}function Cmg(a,b){Um.call(this,a,b)}u(Cmg,Um);function Img(a,b,c,d,e){TK.call(this,153);this.L=a;this.O=b;this.J=c||"";this.F=d;this.C=e}u(Img,TK);Img.prototype.zd=function(){var a=new ZKb;F(a,1,this.L);F(a,4,this.O);F(a,3,this.J);F(a,2,this.F);for(var b=0;b<this.C.length;b++)Of(a,5,this.C[b]);return a};function Jmg(a,b,c){b=c||b;return T('<div class="'+U("waffle-calculated-columns-validation-widget")+'"><div class="'+U("waffle-calculated-columns-validation-widget-open-button")+'"><div class="'+U("waffle-calculated-columns-validation-widget-spinner")+'">'+S(UFe({Ub:!0},b))+"</div>"+S(TEe())+S(REe())+S(SEe())+'</div><div class="'+U("waffle-calculated-columns-validation-widget-bar")+'"><div class="'+U("waffle-calculated-columns-validation-widget-spinner")+'">'+S(UFe({Ub:!0},b))+"</div>"+S(TEe())+S(REe())+
S(SEe())+'<div class="'+U("waffle-calculated-columns-validation-widget-message")+'"></div><div class="'+U("waffle-calculated-columns-validation-widget-close-button")+'">'+S(PEe(null,b))+"</div></div></div>")};function Kmg(a,b,c){R.call(this,c);this.H=a;this.L=b;this.J=my(hy(new gy,1));this.D=new qy(void 0,Qx(oy,"waffle-calculated-columns-validation-widget-open-button"),this.qa());this.Ga(this.D);this.C=new qy(void 0,Qx(oy,"waffle-calculated-columns-validation-widget-close-button"),this.qa());this.Ga(this.C);this.F=!1}u(Kmg,R);Kmg.prototype.Ba=function(){this.tb(xx(Jmg));this.C.Wa(this.Ea("waffle-calculated-columns-validation-widget-close-button"));this.D.Wa(this.Ea("waffle-calculated-columns-validation-widget-open-button"))};
Kmg.prototype.Ha=function(){var a=this;R.prototype.Ha.call(this);this.D.Hd("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u043e\u0440\u043c\u0443\u043b");this.C.Hd("\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u043e\u0440\u043c\u0443\u043b");this.D.Na(this.H);this.D.setVisible(this.H);this.getHandler().listen(this.C,
"action",function(){return a.setVisible(!1)}).listen(this.D,"action",function(){a.setVisible(!0);a.L.C(36654,a.J);var b=a.Ea("waffle-calculated-columns-validation-widget-message");QK(Rn(b))});Lmg(this)};Kmg.prototype.setVisible=function(a){this.F=a;this.Gb()&&Lw(this.Ka(),"waffle-calculated-columns-validation-widget-visible",this.F)};Kmg.prototype.isVisible=g("F");
function Lmg(a){Jw(a.Ka(),"waffle-calculated-columns-validation-widget-valid");Jw(a.Ka(),"waffle-calculated-columns-validation-widget-invalid");Jw(a.Ka(),"waffle-calculated-columns-validation-widget-loading");var b="\u041f\u0440\u0438\u043c\u0435\u0440: ="+(ritz_api.RitzModelApi.getLocalizedFunctionName("ROUND")+"(<\u0418\u043c\u044f\u0421\u0442\u043e\u043b\u0431\u0446\u0430BigQuery>, 2)*5");Mmg(a,b);a.D.Hd("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u043e\u0440\u043c\u0443\u043b")}
function Mmg(a,b){var c=a.Ea("waffle-calculated-columns-validation-widget-message");b=me(b);ue(c,b);a.F&&QK(Rn(c))};function Nmg(a,b,c,d,e,f,h,k){vA.call(this);this.ma=a;this.ue=new umg(k,this.qa());this.Ga(this.ue);this.O=b;if(null==b)b=null;else{var l=new kg;F(l,2,b);b=l}this.R=b;this.Aa=c;this.H=d;this.F=new LV("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f");this.V=null;this.C=new Bmg(a,this.R,c,d,f,h,k,this.qa());this.L=new Kmg(d,k,this.qa());this.Ga(this.L);this.Ua=e;this.Ra=k;this.Ia=my(hy(new gy,1))}u(Nmg,vA);p=Nmg.prototype;p.Ja=function(){vA.prototype.Ja.call(this)};
p.Ba=function(){vA.prototype.Ba.call(this);var a=null==this.O?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430":this.H?"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446";
this.setTitle(a);Hw($w(this),"waffle-calculated-columns-dialog");var b=new cx;b.set("cancel","\u041e\u0442\u043c\u0435\u043d\u0430",!1,!0);this.H&&b.set("save",null==this.O?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u041e\u041a",!0,!1);fx(this,b);tx(this,"save");(b=I7a(this))&&Dw(b,a);a=xx(smg);b=this.Hb();this.qa().appendChild(b,a);this.ue.render(this.Ea("waffle-calculated-columns-tooltip"));this.C.render(this.Ea("waffle-calculated-columns-formula-editor"));this.L.render(this.Ea("waffle-calculated-columns-formula-editor"))};
p.Ha=function(){vA.prototype.Ha.call(this);var a=this.qa().Ea("waffle-calculated-columns-display-name-input");this.F.Wa(a);this.F.Na(this.H);this.V=new AA(a);var b=this.qa().Ea("waffle-calculated-columns-display-name-title");Aw(a,"labelledby",b.id);null!=this.R&&this.F.setValue(EJ(this.R,this.ma));this.ova();this.H&&this.getHandler().listen(this,"dialogselect",this.iLb).listen(this.V,"input",this.ova).listen(this.C,"validation-update",this.ova).listen(this.C,"loading-state",this.MYb)};
p.xd=function(){vA.prototype.xd.call(this);qf(this.V)};p.iLb=function(a){var b=this;if("save"==a.key){if(a=Dmg(this.C),!pd(a)){var c=null==this.O;a=new Img(this.ma,xmg(this.F.getValue()),this.O,a,ymg(this.Aa));var d=c?36645:36647,e=c?36644:36646;UK(a,function(f){b.Ra.C(f?e:d,b.Ia);f&&b.dispatchEvent(new Omg("update",b.ma,c))});this.Ua.C(a)}}else"cancel"==a.key&&this.Ra.C(36643,this.Ia)};
p.ova=function(){if(0==this.F.getValue().length)var a=null;else a:{var b=this.Aa,c=this.F.getValue();a=this.R;c=xmg(c);if(pd(c))a="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430.";else{for(var d=ka(b.C.keys()),e=d.next();!e.done;e=d.next())if(e=e.value,od(e,c))if(d=null!=a,b=b.C.get(e),d&&a.equals(b))break;else{a='\u0421\u0442\u043e\u043b\u0431\u0435\u0446 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'+
(c+'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.');break a}a=null}}b=a;c=!b&&0!=this.F.getValue().length;a=this.C.V;hx(this.D,"save",a&&c&&this.H);Lw(this.F.getElement(),"waffle-calculated-columns-display-name-input-invalid",!!b);c=b?b:"";b=this.Ea("waffle-calculated-columns-display-name-error");c=me(c);ue(b,c);QK(Rn(b));"="==Dmg(this.C)?(Lmg(this.L),Hmg(this.C,!0)):(b=this.L,c=this.C.O,Jw(b.Ka(),"waffle-calculated-columns-validation-widget-loading"),Lw(b.Ka(),
"waffle-calculated-columns-validation-widget-valid",a),Lw(b.Ka(),"waffle-calculated-columns-validation-widget-invalid",!a),d=a?c="\u0424\u043e\u0440\u043c\u0443\u043b\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430.":"\u0424\u043e\u0440\u043c\u0443\u043b\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e.",
Mmg(b,c),b.D.Hd(d),Hmg(this.C,a))};p.MYb=function(){Jw(this.C.C.getElement(),"waffle-calculated-columns-formula-editor-input-invalid");var a=this.L;Hw(a.Ka(),"waffle-calculated-columns-validation-widget-loading");Jw(a.Ka(),"waffle-calculated-columns-validation-widget-valid");Jw(a.Ka(),"waffle-calculated-columns-validation-widget-invalid");a.F&&Mmg(a,"");a.D.Hd("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u043e\u0440\u043c\u0443\u043b")};
function Omg(a,b,c){Um.call(this,a);this.Dr=b;this.C=c}u(Omg,Um);function Pmg(a,b,c,d,e,f){zZ.call(this,a,b,c,new OCe,"db",d,e,f);this.H=""}u(Pmg,zZ);p=Pmg.prototype;p.Ha=function(){zZ.prototype.Ha.call(this);this.D$()};p.KC=function(){return yJ(this.J.C)&&A(z(),"feda")?zZ.prototype.KC.call(this):!1};p.CFa=function(){wCe(null,null,this.H,this.C)};p.HIa=function(a){wCe(a,null,this.H,this.C)};p.E_=function(){var a=zZ.prototype.E_.call(this);a&&this.KC()&&this.J3();return a};function Qmg(a,b){a.H!=b&&(a.H=b,a.KC()&&a.J3())}
p.J3=function(){this.H?Rmg(this):this.yB();xCe(null,this.H,this.C)};function Rmg(a){if(vLe(a)){var b=wM.getInstance(),c=a.O;c.C=a.H;b.D=c;b.C&&b.D.zB(b.C);bmg(b,a.H).then(function(d){for(var e=[],f=ka(Qf(d,1)),h=f.next();!h.done;h=f.next())e.push(h.value.getName());f=[];h=ka(Qf(d,2));for(var k=h.next();!k.done;k=h.next())f.push(k.value.getName());h=[];d=ka(Qf(d,3));for(k=d.next();!k.done;k=d.next())h.push(k.value.getValue());wLe(a,e,f,h,[])},function(){a.yB()})}}
p.yB=function(){zZ.prototype.yB.call(this);this.H="";xCe(null,null,this.C)};function Smg(a){var b=a.label;a=a.Qi;return T((a?'<div class="'+U("goog-menuitem-icon")+" "+U("waffle-charteditor-column-filtered-menu-item-icon")+" "+U(a)+'"></div>':"")+'<span class="'+U("waffle-datasource-configbar-columns-menu-item-label")+'">'+S(b)+"</span>")}function Tmg(){return T('<div class="'+U("waffle-datasource-configbar-columns-menu-spinner-container")+'"></div>')};function Umg(a){zy.call(this,a);this.Ud=new QY(!1);this.xa(this.Ud);this.C=new uy(xx(Tmg),void 0,this.qa());this.C.Ye(8,!1);this.Ga(this.C)}u(Umg,zy);Umg.prototype.Ha=function(){zy.prototype.Ha.call(this);Hw(this.Ka(),"waffle-datasource-configbar-columns-menu")};Umg.prototype.Ba=function(){zy.prototype.Ba.call(this);this.C.render(this.Ka());this.Ud.render(this.C.Ea("waffle-datasource-configbar-columns-menu-spinner-container"))};
Umg.prototype.D=function(a,b){a=ka(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=Pac(d,b);null!==c&&(d=ZUe(d.getType()),this.Ga(new uy(xx(Smg,{label:c,Qi:d}),void 0,this.qa()),!0))}};function Vmg(a,b){var c=a.C.getElement();c&&(Lw(c,"waffle-datasource-configbar-columns-menu-loading",b),Q(c,b),a.Ud.setActive(b))};function Wmg(){zy.apply(this,arguments)}u(Wmg,zy);Wmg.prototype.Ha=function(){zy.prototype.Ha.call(this);Hw(this.Ka(),"waffle-datasource-configbar-formula-menu")};Wmg.prototype.Is=function(a){var b=this;this.Ga(a,!0);this.getHandler().listen(a,"action",function(){var c=new pH("insert-formula-function");c.ma=a.getValue();b.dispatchEvent(c)})};function Xmg(a){zy.call(this,a,new Ymg)}u(Xmg,zy);Xmg.prototype.Is=function(a){this.Ga(a,!0)};function Ymg(){xy.call(this)}u(Ymg,xy);Ymg.prototype.yD=function(a){a=xy.prototype.yD.call(this,a);a.push("waffle-dbsource-configbar-overflow-menu");return a};function Zmg(a,b,c){b=c||b;a='<div class="'+U("waffle-dbsource-configbar-wrapper")+'"><div class="'+U("waffle-dbsource-configbar")+'"><div class="'+U("waffle-dbsource-configbar-header")+'"><div class="'+U("waffle-dbsource-configbar-header-icon")+'">'+S(QEe({color:"#5f6368",sAb:24},b))+'</div><div class="waffle-dbsource-configbar-header-title" role="textbox" tabindex="0" aria-label="';a+=ow("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u043b\u0438\u0441\u0442\u0430");
a+='"></div><div class="waffle-dbsource-configbar-header-subtitle"></div><div class="'+U("waffle-dbsource-configbar-options-wrapper")+'"><div class="'+U("waffle-dbsource-configbar-watch-tutorial-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-send-feedback-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-overflow-menu-button-wrapper")+'"></div></div></div><div class="'+U("waffle-dbsource-configbar-actions")+'"><div class="'+U("waffle-dbsource-configbar-columns-menu-button-wrapper")+
'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-chart-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-pivot-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+" "+U("waffle-dbsource-configbar-function-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-separator")+'"></div><div class="'+U("waffle-dbsource-configbar-button-wrapper")+
" "+U("waffle-dbsource-configbar-table-button-wrapper")+'"></div><div class="'+U("waffle-dbsource-configbar-answers-wrapper")+'"></div></div></div></div>';return T(a)}
function $mg(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#188038" fill-rule="nonzero"><path d="M14.5263158 2C15.3368421 2 16 2.7 16 3.55555556V14.4444444C16 15.3 15.3368421 16 14.5263158 16H3.47368421C2.66315789 16 2 15.3 2 14.4444444V3.55555556C2 2.7 2.66315789 2 3.47368421 2H14.5263158zM3.5 3.5v11h11v-11h-11z"/><path d="M6.75 12.75h-1.5V7.5h1.5zM9.75 12.75h-1.5v-7.5h1.5zM12.75 12.75h-1.5v-3h1.5z"/></g></svg>');a=S(a)+"<span>";return T(a+
"\u0414\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430</span>")}
function ang(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" fill-rule="evenodd" d="M10 13h1.185c.9975 0 1.815-.81 1.815-1.815V10h-2.25l3-3 3 3H14.5v1.185c0 1.83-1.485 3.315-3.315 3.315H10v2.25l-3-3 3-3V13zM8 6V2h6.5454545C15.3454545 2 16 2.72 16 3.6V6H8zM2 6V3.6C2 2.72 2.72 2 3.6 2H6v4H2zm1.6 10c-.88 0-1.6-.6545455-1.6-1.4545455V8h4v8H3.6z"/></svg>');a=S(a)+"<span>";return T(a+"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430</span>")}
function bng(){var a=S(qYe())+"<span>";return T(a+"\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c</span>")}function cng(){var a=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" d="M15 2H3v1.75L8.143 9 3 14.25V16h12v-2.625H7.286L11.571 9 7.286 4.625H15z"/></svg>');a=S(a)+"<span>";return T(a+"\u0424\u0443\u043d\u043a\u0446\u0438\u044f</span>")}
function dng(){var a=T;var b=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>');return a(S(b))}
function eng(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">';var b=T('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#80868b" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-3.5l6-4.5-6-4.5z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>');a=a+S(b)+"<span>";return T(a+"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e</span></span>")}
function fng(){var a='<span class="'+U("waffle-dbsource-configbar-secondary-button-content")+'">';var b=T('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#80868b" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>');a=a+S(b)+"<span>";return T(a+"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432</span></span>")}
;function gng(a,b,c,d,e,f,h){R.call(this,h);this.R=a;this.V=b;this.O=c;this.Ua=d;this.L=b.Ca;this.Ra=f;this.D=new yQ("\u0421\u0442\u043e\u043b\u0431\u0446\u044b",new Umg(this.qa()),void 0,this.qa());this.D.Jc("waffle-dbsource-configbar-columns-menu-button");this.D.Uh(!0);this.Ga(this.D);this.Aa=hng(this,"waffle-dbsource-configbar-chart-button",xx($mg));this.Ca=hng(this,"waffle-dbsource-configbar-pivot-button",xx(ang));this.ma=hng(this,"waffle-dbsource-configbar-table-button",xx(bng));a=xx(cng);this.H=
new Gy(a,new Wmg(this.qa()),vod.getInstance(),this.qa());this.H.Jc("waffle-dbsource-configbar-function-button");this.H.Uh(!0);this.H.jn(!0);this.Ga(this.H);this.La=hng(this,"waffle-dbsource-configbar-secondary-button",xx(eng));this.Oa=hng(this,"waffle-dbsource-configbar-secondary-button",xx(fng));this.Ya=new uy("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","settings");this.Fa=new uy(fC.getLabel(),"add-calculated-column");
this.Ia=new uy(eC.getLabel(),"show-refresh-all");this.J=new yQ(xx(dng),new Xmg(this.qa()),void 0,this.qa());this.J.Jc("waffle-dbsource-configbar-overflow-menu-button");this.J.jn(!0);this.Ga(this.J);this.Pa=new Map([[this.D,""],[this.Aa,"\u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430"],[this.Ca,"\u0441\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430"],[this.ma,"\u0442\u0430\u0431\u043b\u0438\u0446\u0430"],[this.H,"\u0444\u0443\u043d\u043a\u0446\u0438\u044f"]]);
this.C=null;A(z(),"feda")&&(this.C=new Pmg(this.V,this.O,this.Ua,e,75,this.qa()),this.Ga(this.C));this.F=null}u(gng,R);p=gng.prototype;p.Ba=function(){this.tb(xx(Zmg))};
p.Ha=function(){R.prototype.Ha.call(this);var a=$Ue();a&&this.J.Jc(a);this.D.render(this.Ea("waffle-dbsource-configbar-columns-menu-button-wrapper"));this.Aa.render(this.Ea("waffle-dbsource-configbar-chart-button-wrapper"));this.Ca.render(this.Ea("waffle-dbsource-configbar-pivot-button-wrapper"));this.ma.render(this.Ea("waffle-dbsource-configbar-table-button-wrapper"));this.H.render(this.Ea("waffle-dbsource-configbar-function-button-wrapper"));this.J.render(this.Ea("waffle-dbsource-configbar-overflow-menu-button-wrapper"));
this.La.render(this.Ea("waffle-dbsource-configbar-watch-tutorial-button-wrapper"));this.Oa.render(this.Ea("waffle-dbsource-configbar-send-feedback-button-wrapper"));this.C&&this.C.Wa(this.Ea("waffle-dbsource-configbar-answers-wrapper"));this.F=this.Ea("waffle-dbsource-configbar-header-title");this.getHandler().listen(this.Aa,"action",this.hfb).listen(this.Ca,"action",this.lsb).listen(this.ma,"action",this.Sxb).listen(this.H,"show",this.Mhb).listen(this.D,"show",this.ngb).listen(this.R,"ia",this.CKb).listen(this.F,
["focus","mousedown"],this.Vpb).listen(this.J,"show",this.nrb).listen(this.J.Lb(),"action",this.prb).listen(this.Oa,"action",this.nvb).listen(this.La,"action",function(){return Ppb.Eb()});this.C?this.getHandler().listen(this.C.getElement(),"keydown",this.WMa):this.getHandler().listen(this.ma.getElement(),"keydown",this.WMa);ing(this.Ca,"fedp");ing(this.ma,"fedr");ing(this.H,"fedf");ing(this.Aa,"fedbc");ing(this.D,"fedsccm");My(this.J.Ka(),"\u0414\u0440\u0443\u0433\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b",
void 0);this.refresh()};p.WMa=function(a){9===a.keyCode&&(a.preventDefault(),this.dispatchEvent(new jng))};p.setVisible=function(a){Q(this.Ka(),a);if(this.C){a="";var b=gS(this.R);b&&b.Zf()&&(a=b.Zf());Qmg(this.C,a)}};p.isVisible=function(){return Qv(this.Ka())};
p.refresh=function(){kng(this,gS(this.R).Pd());var a=this.Ea("waffle-dbsource-configbar-header-subtitle"),b=lng(this);b?(b="\u0421\u0442\u0440\u043e\u043a: "+b,this.qa().Ae(a,b)):this.qa().Ae(a,"");(a=zM(this.V.H)||this.V.Ed())||(a=this.L,b=mng(this),a.C.has(b)?(a=a.C.get(b),a=Mf(a,1)&&!a.ek()):a=!1);nng(this,!a);this.D.Cd(!1);ong(this);this.C&&Qmg(this.C,mng(this))};function hng(a,b,c){c=new ZU(c,a.qa());c.Jc(b);a.Ga(c);return c}
p.hfb=function(){Tac(this.L);SK(null,void 0,mng(this));this.O.C(36528,png())};p.lsb=function(){Tac(this.L);var a=new hh,b=mng(this);F(a,1,b);b=sCe();F(b,15,a);A(z(),"fedpos")&&F(b,17,!1);a=tCe(b);a=new yHe(null,ZWb(a),void 0);j0b(a);this.O.C(36527,png())};p.Sxb=function(){Tac(this.L);q0b(mng(this));this.O.C(36529,png())};p.Mhb=function(){var a=this.H.Lb();if(a&&0==a.Ic()){a=this.H.Lb();var b=wFd(new vFd(this.V.Ya,a,this.Ra),void 0,!0);b=ka(b);for(var c=b.next();!c.done;c=b.next())a.Is(c.value)}Tac(this.L)};
p.Vpb=function(a){var b=A(z(),"fedcr");this.F.isContentEditable||nO(this.V)||!b||(this.F.contentEditable=!0,"focus"===a.type&&(a=window.getSelection(),b=document.createRange(),b.selectNodeContents(this.F),a.removeAllRanges(),a.addRange(b)),this.getHandler().listen(this.F,"keydown",this.BKb).listen(this.F,"blur",this.cwb))};p.BKb=function(a){switch(a.keyCode){case 13:this.dispatchEvent(new qng(gS(this.R).yb(),Sn(this.F)));rng(this,!1);break;case 27:rng(this,!0)}};
p.cwb=function(){window.getSelection().removeAllRanges();rng(this,!0)};function rng(a,b){a.F.contentEditable=!1;en(a.F,"keydown");en(a.F,"blur");b&&kng(a,gS(a.R).Pd())}p.nrb=function(){for(var a=this.J.Lb();0<a.Ic();)a.Sl(0,!0);a.Is(this.Ya);A(z(),"fedcc")&&!this.V.Ed()&&a.Is(this.Fa);A(z(),"fedors")&&eC.isVisible()&&a.Is(this.Ia)};
p.prb=function(a){switch(a.target.Qa()){case "settings":Mpb.Eb(mng(this));break;case "add-calculated-column":this.O.C(36651,png());fC.Eb();break;case "show-refresh-all":this.O.C(36705,png()),eC.Eb()}};p.nvb=function(){(Eu(),wt).Eb({source:"big-sheets-feedback"})};p.ngb=function(){var a=this,b=this.D.Lb();Vmg(b,!0);var c=mng(this);BM(this.L,c).then(function(d){ong(a);0<d.length?b.D(d,c):(a.D.Cd(!1),a.refresh())})};p.CKb=function(a){kng(this,a.ul)};
function kng(a,b){var c=a.Ea("waffle-dbsource-configbar-header-title");a.qa().Ae(c,b)}function ing(a,b){A(z(),b)||(a.Na(!1),a.setVisible(!1))}
function nng(a,b){var c=lng(a);a.Pa.forEach(function(d,e){e.Na(b);d=b&&c&&d?"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c: "+(d+(" (\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a: "+(c+")"))):b?"":"\u0412\u0430\u043c \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043e\u0442\u0447\u0435\u0442\u044b \u0441 \u044d\u0442\u0438\u043c\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.";My(e.Ka(),
d,void 0);d&&Ozd(e.Ka(),"waffle-dbsource-configbar-db-object-creation-button-tooltip")});a.C&&a.C.Na(b);a.Fa&&a.Fa.Na(b);a.Ia&&a.Ia.Na(b)}function mng(a){return gS(a.R).Zf()}function ong(a){a=a.D.Lb();for(Vmg(a,!1);1<a.Ic();)a.Sl(1,!0)}function lng(a){return(a=ritz_api.BigSheetsApi.getDatasourceTotalRowCount(mng(a)))?xuc.format(parseInt(a,10)):null}function png(){var a=pj(new nj,!0);return my(ly(hy(new gy,75),a))}function qng(a,b){Um.call(this,"datasheet-rename");this.Ug=a;this.name=b}u(qng,Um);
function jng(){Um.call(this,"configbar-dom-focus-out")}u(jng,Um);function sng(a,b,c,d,e,f,h,k,l){fn.call(this);this.D=a;this.F=b;this.R=l;this.L=c;this.ma=d;this.O=e;this.H=f;this.J=h;this.V=k;this.Ma=new gn(this);this.xa(this.Ma);this.C=null;this.Ma.listen(this.D,["ba","ta"],this.kIa).listen(this.D,["ca","sa"],this.Mvb).listen(this.F,["acl_change","offline_status","readonly_status"],this.zcb);this.kIa()}u(sng,fn);p=sng.prototype;
p.kIa=function(){var a=gS(this.D);a&&aH(a)&&(this.C?this.C.refresh():(this.C=new gng(this.D,this.F,this.L,this.ma,this.V,this.R),a=this.C.qa(),this.C.render(a.getElement("waffle-dbsource-configbar-id")),this.C.Nd(this),this.Ma.listen(this.C,"insert-formula-function",this.Cwb).listen(this.C,"datasheet-rename",this.Bhb).listen(this.C,"configbar-dom-focus-out",this.Ggb)),this.C.setVisible(!0),dCd())};p.Bhb=function(a){var b=this;a=new UIc(a.Ug,a.name);UK(a,function(c){c||rng(b.C,!0)});this.J.C(a)};
p.Ggb=function(){kR(ZK(this.H))};p.Cwb=function(a){var b=this,c=gS(this.D),d=c.Zf();if(d){var e=c.Pd(),f=a.ma;uxe(this.O,function(h,k){var l=ritz_api.BigSheetsApi.getDatasourceReferenceString(e,null);iBa([BM(b.F.Ca,d),ro(1E3)]).then(function(){return tng(b,f,l,k)})},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u0443");this.L.C(36535,png())}};
function tng(a,b,c,d){if(d)a.F.C.yz(d.Ai,function(){var f=AJ(a.F.C),h=new zl(d.C,d.uj);lK(f,h);ung(a,b,c,h)});else{var e=new Awd(3,sJ(a.F.C)+1);UK(e,function(f){f&&ung(a,b,c,new zl)});a.J.C(e)}}function ung(a,b,c,d){Fo(pJ(aL(a.H).C,$l(d)),function(){Gyd(ZK(a.H),b,c)})}p.Mvb=function(){this.C&&this.C.setVisible(!1)};p.zcb=function(){var a=gS(this.D);a&&aH(a)&&this.C&&this.C.refresh()};p.Ja=function(){fn.prototype.Ja.call(this);qf(this.C)};function vng(){var a='<div class="'+U("waffle-create-datasheet-welcome-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_welcome.png" class="'+U("waffle-create-datasheet-welcome-dialog-image")+'" alt=""><h3 class="'+U("waffle-create-datasheet-welcome-dialog-welcome-message")+'"><span>';a=a+'\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043e\u0431\u044a\u0435\u043c\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0422\u0430\u0431\u043b\u0438\u0446\u0430\u0445</span></h3><div class="'+
(U("waffle-create-datasheet-welcome-dialog-welcome-description")+'">');a=a+'\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c \u043a BigQuery\u00a0\u2013 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u043c\u0443 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442 Google, \u0447\u0442\u043e\u0431\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u043b\u043b\u0438\u0430\u0440\u0434\u044b \u0441\u0442\u0440\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0422\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u043b\u043b\u0435\u0433\u0430\u043c\u0438.</div><div class="'+
(U("waffle-create-datasheet-welcome-dialog-continue-button-wrapper")+'"></div></div>');return T(a)}
function wng(){var a='<div class="'+U("waffle-create-datasheet-welcome-dialog-switch-wrapper")+'"><div class="'+U("waffle-create-datasheet-welcome-dialog-switch-to-dbx")+'">';return T(a+"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0439 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445</div></div>")};function xng(a){a0.call(this,"waffle-create-datasheet-welcome-dialog",a);this.F=new WA("\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 BigQuery",this.qa());this.Ga(this.F);this.D=new qy("",uO.getInstance(),this.qa());this.Ga(this.D)}u(xng,a0);p=xng.prototype;
p.Ba=function(){a0.prototype.Ba.call(this);vx(this.Hb(),vng);this.F.render(this.Ea("waffle-create-datasheet-welcome-dialog-continue-button-wrapper"));this.getHandler().listen(this.F,"action",this.XMa);zw(this.Ea("waffle-dataconnector-modal-title"));var a=this.Ea("waffle-create-datasheet-welcome-dialog-welcome-message");a.id=$v(this,"waffle-create-datasheet-welcome-dialog-welcome-message");yw(a,"heading");Aw(this.Ka(),"labelledby",a.id);a=this.Ea("waffle-create-datasheet-welcome-dialog-welcome-description");
a.id=$v(this,"waffle-create-datasheet-welcome-dialog-welcome-description");Aw(this.Ka(),"describedby",a.id);cpb.isEnabled()&&(this.Hb().appendChild(xx(wng)),this.D.Wa(this.Ea("waffle-create-datasheet-welcome-dialog-switch-to-dbx")),this.D.setVisible(!0),this.getHandler().listen(this.D,"action",this.Cxb))};p.XMa=function(){this.resolve(!0)};p.Cxb=function(){this.resolve(!1)};p.Pma=function(a){13==a.keyCode&&this.XMa()};p.z_=function(){$B.Eb();this.reject()};p.WE=function(){$B.Eb();this.reject()};function yng(a){a=a.Cab;a='<div class="'+U("waffle-create-datasource-sheet-loading-dialog-section")+'"><img class="'+U("waffle-create-datasource-sheet-loading-dialog-image")+'" src="'+U(qw(a))+'" alt=""><div class="'+U("waffle-create-datasource-sheet-loading-dialog-tip")+'">';return T(a+"\u0418\u0434\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445</div></div>")};function zng(a,b){S_.call(this,"waffle-create-datasource-sheet-loading-dialog",b);this.D=a}u(zng,S_);zng.prototype.Ba=function(){S_.prototype.Ba.call(this);vx(this.Hb(),yng,{Cab:this.D});zw(this.Ea("waffle-dataconnector-modal-title"));var a=this.Ea("waffle-create-datasource-sheet-loading-dialog-tip");a.id=$v(this,"waffle-create-datasource-sheet-loading-dialog-tip");yw(a,"heading");Aw(this.Ka(),"labelledby",a.id)};function Ang(){var a='<div class="'+U("waffle-create-datasource-sheet-success-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_success_2.gif" class="'+U("waffle-create-datasource-sheet-success-dialog-image")+'" alt=""><h5 class="'+U("waffle-create-datasource-sheet-success-dialog-success-message")+'">';a=a+'\u0413\u043e\u0442\u043e\u0432\u043e! \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 BigQuery.</h5><div class="'+
(U("waffle-create-datasource-sheet-success-dialog-metadata-wrapper")+" "+U("waffle-create-datasource-sheet-success-dialog-datasource-info")+'"></div><div class="'+U("waffle-create-datasource-sheet-success-dialog-success-description")+'">');a=a+'\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0434\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0438 \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u043f\u0440\u0438\u0432\u044b\u0447\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c.</div><div class="'+
(U("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper")+'"></div><div class="'+U("waffle-create-datasource-sheet-success-dialog-watch-tutorial")+" "+U("goog-link-button")+'"><span>');return T(a+"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043e</span></div></div>")};function Bng(a,b,c){S_.call(this,"waffle-create-datasource-sheet-success-dialog",c);this.J=a;this.H=b;this.F=new WA("\u041d\u0430\u0447\u0430\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437",this.qa());this.Ga(this.F);this.D=new qy(void 0,uO.getInstance(),this.qa());this.Ga(this.D)}u(Bng,S_);
Bng.prototype.Ba=function(){var a=this;S_.prototype.Ba.call(this);vx(this.Hb(),Ang);var b=this.Ea("waffle-create-datasource-sheet-success-dialog-metadata-wrapper");this.qa().Ae(b,Cng(this.J,this.H));this.F.render(this.Ea("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper"));this.D.Wa(this.Ea("waffle-create-datasource-sheet-success-dialog-watch-tutorial"));zw(this.Ea("waffle-dataconnector-modal-title"));b=this.Ea("waffle-create-datasource-sheet-success-dialog-success-message");
b.id=$v(this,"waffle-create-datasource-sheet-success-dialog-success-message");yw(b,"heading");Aw(this.Ka(),"labelledby",b.id);b=this.Ea("waffle-create-datasource-sheet-success-dialog-success-description");b.id=$v(this,"waffle-create-datasource-sheet-success-dialog-success-description");Aw(this.Ka(),"describedby",b.id);this.getHandler().listen(this.F,"action",function(){return a.WE()}).listen(this.D,"action",function(){return Ppb.Eb()})};
function Cng(a,b){a=(new dA("{NUM_COLUMNS,plural, =0{\u041d\u0435\u0442 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432}=1{1 \u0441\u0442\u043e\u043b\u0431\u0435\u0446}one{# \u0441\u0442\u043e\u043b\u0431\u0435\u0446}few{# \u0441\u0442\u043e\u043b\u0431\u0446\u0430}many{# \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432}other{# \u0441\u0442\u043e\u043b\u0431\u0446\u0430}}")).format({NUM_COLUMNS:a});return b?"\u0421\u0442\u0440\u043e\u043a: "+b+" \u2022 "+a:a};function Dng(a,b,c,d,e,f,h,k,l,n,q,r){zYe.call(this,new XVe(n.getType(),l,"filter_db_sheet",r),a,b,c,d,e,f,h,k,l,q,r);this.zb=AM(n);this.Fc=new ok}u(Dng,zYe);p=Dng.prototype;p.Ba=function(){zYe.prototype.Ba.call(this);var a=$P(this.D,this.Xg());kmg(this.H.C,500<a.left?0:3)};
p.pIa=function(){var a=this.Qa().$b(),b=ritz_api.BigSheetsApi.getDatasourceSheetCriteria(a,this.Fc.serialize(this.zb)),c=null,d=null;0<b.length&&(c=this.Fc.Hc(Hg.va(),b[0]),d=kNe(a));mNe(this.H,c,d);a=this.J;b=this.R;c=this.Qa().$b();c=ritz_api.BigSheetsApi.getDatasourceSheetSortOrder(c,this.Fc.serialize(this.zb));Lw(a.Ka(),"waffle-datasourcesheet-sort-selected",0==c);Lw(b.Ka(),"waffle-datasourcesheet-sort-selected",1==c);a=this.C;b=a.Lb().Ka();Hw(b,"waffle-datasourcesheet-filterbox-container");QX(a);
Mv(b,"");a.ol()};p.YFa=function(a){if("filtering_cancelled"==a.type)this.Ra();else if(a=this.Xg(),a=fNe(this.H,this.Qa().$b(),a.y,a.x,!1,!1),!PMe(this.H.C)){if(null==a)var b=new xZ("filterClear");else b=new xZ("filterUpdate"),b.D=a;b.O=this.zb;this.dispatchEvent(b);this.Ra()}};p.gna=function(a){var b=new xZ("filterSort");b.O=this.zb;b.F=a?1:0;this.dispatchEvent(b)};p.hKa=m(!1);
p.Dga=function(a){var b=this.D,c=aQ(b,"r",a.y),d=b.C,e=2*d.C,f=this.Qa().vg(a.y,a.x).getFormat();c=-c-e;a="rtl"==(f.D||null)||"auto-rtl"==(f.D||null)?e:aQ(b,"c",a.x)-16*d.C-e;d=d.C;this.Ox(new zl(a/d,c/d))};function Eng(a,b,c,d,e,f){d=void 0===d?null:d;e=void 0===e?!1:e;f=void 0===f?!1:f;TK.call(this,147);this.R=a.$b();this.O=b;this.C=c||[];this.F=d;this.J=e;this.L=f}u(Eng,TK);Eng.prototype.zd=function(){var a=new SG;F(a,1,this.R);F(a,7,this.O);if(this.J)F(a,5,!0);else for(var b=0;b<this.C.length;b++)Of(a,3,this.C[b]);this.L?F(a,6,!0):null!=this.F&&F(a,4,this.F);return a};
Eng.prototype.equals=function(a){return this.R==a.R&&this.O.equals(a.O)&&this.J==a.J&&this.L==a.L&&this.F==a.F&&gd(this.C,a.C,function(b,c){return b.equals(c)})};function Fng(a,b,c,d,e,f,h){C.call(this);this.Aa=a;this.O=h;this.ma=b;this.D=c;this.V=d;this.R=e;this.L=f;this.Ma=new gn(this);this.xa(this.Ma);this.C=null;this.F=new ok;this.H=new lz(this);this.xa(this.H);this.Ma.listen(this.D,"filter-triggered",this.J);this.H.subscribe(sC,"action",this.J)}u(Fng,C);
Fng.prototype.J=function(){var a=gS(this.ma);if(a&&aH(a)){var b=ZK(this.D),c=Gng(this),d=iK(c),e=gK(Gng(this));d=new zl(d.x,e.y);e=Qxd(c,d.x);this.C&&(this.C.dispose(),this.C=null);this.C=new Dng(c,this.R,b.R,b.C,b.D,new GO(d),!1,!1,this.V,e,this.O);this.xa(this.C);yP(wHc(b),this.C);this.Ma.listen(this.C,"filterClear",this.Ca).listen(this.C,"filterSort",this.Ia).listen(this.C,"filterUpdate",this.Fa);this.C.Dga(d);this.C.Mc();this.C.C.Cd(!0);b=AM(e);a=ritz_api.BigSheetsApi.getDatasourceSheetSortOrder(a.yb(),
this.F.serialize(b));b=rn("waffle-autofilter-sort waffle-datasourcesheet-sort-selected");null!=a&&b&&(Dw(b,"\u0412\u044b\u0431\u0440\u0430\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 "+b.innerText),Lw(b,"hc-enabled-focus","black"==Oy()))}};Fng.prototype.Ca=function(a){a=new Eng(Gng(this),a.O,null,null,!0);Hng(this,a)};Fng.prototype.Fa=function(a){var b=new Hg;F(b,4,a.D);a=new Eng(Gng(this),a.O,[b],null);Hng(this,a)};
Fng.prototype.Ia=function(a){var b=Gng(this).$b(),c=a.O;b=ritz_api.BigSheetsApi.getDatasourceSheetSortOrder(b,this.F.serialize(c));var d=!1;switch(a.F){case 1:d=0==b;break;case 0:d=1==b}a=d?new Eng(Gng(this),c,null,null,void 0,!0):new Eng(Gng(this),c,null,1==a.F?0:1);Hng(this,a)};function Hng(a,b){a.L.C(b);pxe(wHc(ZK(a.D)));qf(a.C);a.C=null}function Gng(a){return AJ(a.Aa.C)};function Ing(a,b,c,d,e,f,h){C.call(this);var k=this;this.Ma=new gn(this);this.xa(this.Ma);this.Aa=a;this.J=a.O;this.F=b;this.C=c;this.V=e;this.R=f;this.O=new lz(this);this.xa(this.O);this.ma=h;this.H=this.D=null;Jng(this);Kng(this,d);this.L=new Im;this.xa(this.L);Mm(this.L,this.J.D,function(l){var n=Lng(k);n&&zwe(l,n)&&Mng(k,n)})}u(Ing,C);function Jng(a){var b=new cv(["waffle-dbsheet-or-dbobject-pill-active"]);a.R.C(Hpb,b)}
function Kng(a,b){var c=nH(a.Aa.C);a.Ma.listen(b,"J",a.Axb).listen(c,"Ab",a.EKb).listen(c,["jb","wb"],a.Qaa).listen(a.F,"ba",a.Qaa).listen(a.C,"activeCellChange valueChange blurEmbeddedObject embeddedObjectMouseEnter embeddedObjectMouseLeave focusEmbeddedObject".split(" "),a.Qaa).listen(a.C,"inputBoxActivate",a.o$).listen(a.C,"mouseover",a.DKb).listen(a.C,"refresh-db-object-request",a.HHa).listen(a.F,"ca",a.Oia);a.O.subscribe(Hpb,"action",a.alb)}p=Ing.prototype;p.Ja=function(){this.Oia();C.prototype.Ja.call(this)};
p.EKb=function(){var a=ZK(this.C);a&&$K(this.C)&&RGc(a)};p.Oia=function(){rf(Nng(this),Ong(this),this.D);this.H=this.D=null};p.Axb=function(){this.D&&fmg(this.D)};p.Qaa=function(){var a=ZK(this.C),b=gS(this.F);if(a&&b){b=!!a.Ya;var c=!!sHc(a);b||!c||a.Ya||(a.Ya=new gmg(a.Qa(),a.R,a.C,a.D,new GO(nHc(a),new zl(0,0)),a.Fa,a.qd,a.eb),pR(a.V,"default",a.Ya,!0),a.xa(a.Ya),a.Ya.setVisible(!0));b=a.Qa();a=sHc(a)||iK(b);(a=SJ(GJ(b,a),a,b.$b()))&&(a.C||a.D)?this.o$():(a=Lng(this),a!=this.H&&Mng(this,a))}else this.Oia()};
function Mng(a,b){if(b){a.o$();var c=Png(a);if(c){var d=wV(a.J,b),e=euc(b);Cuc(c,d,e);Qng(a,b,c,d);a.H=b}}else a.o$()}p.o$=function(){var a=Nng(this);a&&a.setVisible(!1);(a=Ong(this))&&a.setVisible(!1);this.H=null};p.alb=function(){var a=Png(this);a&&(a.Ka().focus(),this.V.Qb(2))};p.HHa=function(){var a=Lng(this);if(a)switch(ritz_api.BigSheetsApi.getDbObjectTypeForExternalDataSourceId(a)){case 1:Vob.Eb(a);break;case 5:Yob.Eb(a);break;case 3:apb.Eb(a);break;case 2:Wob.Eb(a);break;case 4:Kpb.Eb(a)}};
p.DKb=function(a){var b=gS(this.F),c=ZK(this.C);c&&b&&3!=b.getSheetType()&&(a=a.zj)&&yO(a)&&(this.Qaa(),RGc(c))};
function Png(a){var b=Lng(a);if(!b)return null;var c=ritz_api.BigSheetsApi.getDbObjectTypeForExternalDataSourceId(b);if(4==c)if(3!=gS(a.F).getSheetType())a=null;else{if(!a.D){c=ZK(a.C);b=c.re();a.D=new yuc(a.ma);a.Ma.listen(a.D,"refresh-db-object-request",a.HHa);c=new xw(c.Ia.J,b?5:1);a.D.render();var d=a.D;d.O=c;d.L=b;fmg(a.D)}a=a.D}else if(2==c)if(a=ZK(a.C))a:if(c=a.J.C,img(a)==b)b=hmg(a.J).Md().getId(),a=BHc(a,b);else{for(d=c.length-1;0<=d;d--){var e=c[d];if(e&&ritz_api.BigSheetsApi.getExternalDataIdForObject(e)==
b){a=BHc(a,e);break a}}a=null}else a=null;else a=Ong(a);return a}function Nng(a){return(a=ZK(a.C))?AHc(a):null}function Ong(a){a=ZK(a.C);return a?(a=a.Ya)?a.F:null:null}function Lng(a){return(a=ZK(a.C))?jmg(a):null}function Qng(a,b,c,d){hC.isEnabled()&&Rng(d.getType())&&jxd(a.J,b,function(e){c.Su(e)})}function Rng(a){return"no-results"==a||"fetch-successful"==a};function Sng(a,b){TK.call(this,154);this.F=a;this.C=b}u(Sng,TK);Sng.prototype.zd=function(){var a=new aLb;F(a,1,this.F);for(var b=0;b<this.C.length;b++)Of(a,2,this.C[b]);return a};function Tng(a,b){this.D=a;this.C=b};function Ung(a){this.D=a;this.C={};this.F=new ok}
function Vng(a,b){b&&b.forEach(function(c){if(a.C[c]){var d=(new Date).getTime()-a.C[c].D,e=Yac(c),f=e?e.getState():null;if(e&&f&&(2==f||3==f)){if(e=Wng[f]){d=jj(new ij,1E3*d);var h=a.C[c].C;f=new kge;f=M(f,2,h);var k=ritz_api.RitzModelApi.getExternalData(c);if(k){k=a.F.Hc(Kh.va(),k);a:switch(h){case 3:var l=E(k,6).getFormat();l=Nf(l,1)+Nf(l,2)+Nf(l,3);break a;case 6:l=E(k,8)?1:0;break a;default:l=Nf(E(k,7),1)}M(f,5,l);a:switch(h){case 3:h=E(k,6);h=Nf(h,3);break a;case 6:h=E(k,8)?1:0;break a;default:h=
Nf(E(k,7),2)}M(f,4,h)}h=new nj;f=Pi(h,16,f);f=pj(f,!0);d=ly(jy(hy(new gy,41),d),f);a.D.C(e,my(d))}delete a.C[c]}}})}var Xng={},Wng=(Xng[2]=36294,Xng[3]=36567,Xng);function Yng(a,b){TK.call(this,139);this.C=a||"";this.F=b}u(Yng,TK);Yng.prototype.zd=function(){var a=new wKb;F(a,1,this.C);F(a,2,this.F);return a};Yng.prototype.oH=function(){return yKb.va()};function Zng(a,b,c,d,e,f,h,k,l,n,q,r,w){c0.call(this,a,b,d,f,h,k,l);var x=this;this.Ra=new sng(b,this.H,l,q,f,c,n,d,w);this.xa(this.Ra);this.Db=f;this.Ma=new gn(this);this.xa(this.Ma);this.Za=new Ing(a,b,c,d,e,k,l);this.xa(this.Za);this.ma=n;this.Oa=a.D.C;this.La=new ok;this.Pa=new Ung(l);this.hb=r;this.Ya=new Fng(a,b,c,l,e,n,w);this.xa(this.Ya);this.L=new Set;this.O=new Set;(b=xB.getInstance().C.newDatasourceIdFromOnboarding)?(this.L.add(b),$ng(this)):xB.getInstance().C.showBigSheetsOnboardingDialogOnStart&&
Ipb.isEnabled()&&this.hTa();this.Ma.listen(this.H,"db-execution-status-updated",this.tWb).listen(this.D,"ba",this.nUa);this.Ia=new Im;this.xa(this.Ia);Mm(this.Ia,a.O.D,function(B){x.nUa();aog(x,B)})}u(Zng,c0);p=Zng.prototype;
p.mya=function(a){a.C(Gpb,XU).F(Gpb,XU).C(Jpb,XU).C(Mpb,$nd).F(Mpb,$nd).C(gC,XU).F(gC,XU).C(Kpb,XU).C(hpb,XU).C(Npb,XU).C(Opb,XU).C(hC,XU).C(Lpb,XU).C(fC,XU).C(Epb,XU).C(Dpb,XU).C(Ppb,$nd).F(Ppb,$nd).C(Fpb,Znd);A(z(),"fedp")&&a.C(Vob,XU);A(z(),"fedr")&&a.C(Yob,XU);A(z(),"fedbc")&&a.C(Wob,XU);A(z(),"feci")&&a.C(Xob,XU);A(z(),"fedf")&&a.C(apb,XU);A(z(),"fedors")&&a.C(ipb,XU)};
p.TTa=function(){var a=this;this.V.subscribe(Jpb,"action",this.Fa).subscribe(Gpb,"action",this.Zgb).subscribe(gC,"action",this.$yb).subscribe(Mpb,"action",this.wZb).subscribe(Kpb,"action",function(b){return bog(a,1,b)}).subscribe(Wob,"action",function(b){return bog(a,2,b)}).subscribe(Xob,"action",function(b){return bog(a,6,b)}).subscribe(Yob,"action",function(b){return bog(a,5,b)}).subscribe(Vob,"action",function(b){return bog(a,3,b)}).subscribe(apb,"action",function(b){return bog(a,4,b)}).subscribe(hpb,
"action",this.ywb).subscribe(Npb,"action",this.Sta).subscribe(Opb,"action",this.iTa).subscribe(ipb,"action",function(b){0!==b.length&&(cog(a,ritz_api.BigSheetsApi.createRefreshObjectRequest(b),null,b),dog(a,b))}).subscribe(Ppb,"action",this.Lzb).subscribe(fC,"action",function(){return eog(a,null,!0)}).subscribe(Epb,"action",this.a8a).subscribe(Dpb,"action",this.Z2a).subscribe(Fpb,"action",this.z1b)};p.tWb=function(a){Vng(this.Pa,a.D)};p.$yb=function(a){fog(this,a.Zf(),a.C)};
p.wZb=function(a){var b=this,c=ritz_api.BigSheetsApi.getDatasourceSlotDeltaProto(a),d=this.La.Hc(Jg.va(),c),e=new aWe(wM.getInstance());Fo(this.J,function(f){var h=LXe("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a BigQuery\u2026");bWe(e).then(function(k){Iz(Hz.getInstance(),h);k=f.aCa(a,d,k);b.xa(k);R_(b.C,k)},function(){Iz(Hz.getInstance(),h);if(Mf(d,3)&&Mf(E(d,3),1)){var k=f.bCa(a,d,[],!0);b.xa(k);R_(b.C,k)}else b.Cma()})})};
p.iTa=function(a){var b=this;Fo(this.J,function(c){var d=a.J;if(d){var e=d.C;if(Mf(E(e,3),4)){var f=E(d.C,3);e=E(f,5);var h=new Jg;F(h,2,2);var k=new Kg;f=E(f,4);var l=f.ah()||"";f=l+(l?".":"")+E(f,2)+"."+f.getName();F(k,1,"select * from `"+f+"`");F(k,5,e);F(h,3,k);e=h}c=c.aCa(d.Zf(),e,a.D)}else c=c.q9a(a);b.xa(c);R_(b.C,c)})};p.Zgb=function(a){fog(this,null,a.C)};
function fog(a,b,c){var d=null==b;b=new Yng(b,c);UK(b,function(e,f){e&&(e=f.Zf(),gog(a,e),d&&(a.L.add(e),$ng(a)))});a.ma.C(b);d||eWe(a.C)}function gog(a,b){var c=ritz_api.BigSheetsApi.generateExternalDataIdForDatasourceSheet(b);b=ritz_api.BigSheetsApi.createRefreshObjectRequestForDatasourceSheetInitialLoad(c,b);cog(a,b,1,[c])}
p.hTa=function(){var a=this,b=new xng;this.xa(b);R_(this.C,b);b.getResult().then(function(d){d?a.Aa():(cpb.Eb(),qf(b))},function(){qf(b)});var c=new YK(b.getElement());A2b(c,"loadingGif","//ssl.gstatic.com/docs/spreadsheets/bigSheets_loading.gif");c.start()};function $ng(a){var b=new zng("//ssl.gstatic.com/docs/spreadsheets/bigSheets_loading.gif");a.xa(b);R_(a.C,b)}
function eog(a,b,c){var d=gS(a.D);if(d&&aH(d)){var e=d.Zf();BM(a.H.Ca,e).then(function(f){f=new vmg(f,e);f=new Nmg(e,b,f,c,a.ma,a.hb,a.Oa,a.R);a.xa(f);a.Ma.listen(f,"update",a.Leb);R_(a.C,f)})}}p.a8a=function(){var a=gS(this.D);a&&aH(a)&&(a=hog(a),eog(this,a[0],!0))};p.z1b=function(){var a=gS(this.D);a&&aH(a)&&(a=hog(a),eog(this,a[0],!1))};
p.Z2a=function(){var a=this,b=gS(this.D);if(b&&aH(b)){var c=hog(b),d=c.length;d=(new dA("{NUM_COLUMNS,plural, =1{\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446?}one{\u0423\u0434\u0430\u043b\u0438\u0442\u044c {NUM_COLUMNS} \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446?}few{\u0423\u0434\u0430\u043b\u0438\u0442\u044c {NUM_COLUMNS} \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u0430?}many{\u0423\u0434\u0430\u043b\u0438\u0442\u044c {NUM_COLUMNS} \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432?}other{\u0423\u0434\u0430\u043b\u0438\u0442\u044c {NUM_COLUMNS} \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430?}}")).format({NUM_COLUMNS:d});OHc(this.Db,
d,function(){return iog(a,b.Zf(),c)})}};function iog(a,b,c){c=new Sng(b,c);UK(c,function(d){a.R.C(d?36648:36649);d&&gog(a,b)});a.ma.C(c)}p.Leb=function(a){gog(this,a.Dr);var b=gS(this.D);b&&aH(b)&&b.Zf()==a.Dr&&a.C&&(a=b.zc(),b=$l(new zl(a.Of()-1,0)),rJ(a,kWb(a,b)))};function hog(a){a=a.zc();var b=eK(a);return Stc(a,b).map(function(c){return E(c,2)})}
p.nUa=function(){var a=gS(this.D);if(a&&aH(a)){var b=a.Zf();if(this.L.has(b)){var c=ritz_api.BigSheetsApi.getExternalDataIdForDatasourceSheet(a.yb());if(c)if(c=wV(this.H.O,c),"fetch-successful"==c.getType()){a=a.zc().Of();var d=ritz_api.BigSheetsApi.getDatasourceTotalRowCount(b);c=null;null!==d&&(d=parseInt(d,10),0<d&&(c=xuc.format(d)));a=new Bng(a,c);this.xa(a);R_(this.C,a);this.L.delete(b)}else"fetch-failed"==c.getType()&&(dWe(this.C)instanceof zng&&fWe(this.C),this.L.delete(b))}}};
p.Sta=function(a){var b=this,c=new qmg(a);this.xa(c);a&&0!=a.length||this.R.C(36566);R_(this.C,c);c.getResult().then(function(d){b.iTa(d)},function(){qf(c)})};p.Cma=function(){this.R.C(36685);NXe("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a BigQuery")};function bog(a,b,c){cog(a,ritz_api.BigSheetsApi.createRefreshObjectRequest([c]),b,[c]);dog(a,[c])}
function cog(a,b,c,d){b=a.La.Hc(E9b.va(),b);var e=(new Date).getTime();emg(a.H.O,d);dmg(wM.getInstance(),b,a.Oa).then(function(f){var h=Qf(f,2),k=1==d.length?d[0]:null;!h[0].Kh().nm()&&k&&c&&(a.Pa.C[k]=new Tng(e,c));h=ka(h);for(k=h.next();!k.done;k=h.next()){var l=k.value;k=l.Kh();3===k.getState()&&(l=l.Zw(),kbc(a.H.O,new Set([l]),k))}return f},function(f){var h=kbc,k=a.H.O,l=new Set(d);f=E(f,2,0);h(k,l,f.Kh())})}
function dog(a,b){if(0!=b.length){var c=new dA("{numObjects,plural, =1{\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430}one{\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 # \u043e\u0431\u044a\u0435\u043a\u0442\u0430}few{\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 # \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432}many{\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 # \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432}other{\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 # \u043e\u0431\u044a\u0435\u043a\u0442\u0430}}");QK(c.format({numObjects:b.length}));
b.forEach(function(d){return a.O.add(d)})}}function aog(a,b){0!=a.O.size&&(b.C.forEach(function(c){var d=wV(a.H.O,c);"loading"!=d.getType()&&"fetching-results"!=d.getType()&&a.O.delete(c)}),0==a.O.size&&"dbobjectmodel-event-update"==b.getType()&&QK("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e"))}p.ywb=function(a){if(a){var b=ritz_api.BigSheetsApi.getDbObjectTypeForExternalDataSourceId(a.Zw());a=nmg(b,a.C);PK(a.body,a.title)}};
p.Lzb=function(){dw("https://connectedsheets.page.link/tutorial",{target:"_blank"})};function jog(){C.call(this)}u(jog,GK);jog.prototype.C=function(){return Zng};MK("dbsource",jog);
